process L1ConfigReadSQLite = {

//    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    untracked PSet maxEvents = { untracked int32 input = 1 }

    source = EmptyIOVSource {
        string timetype = "runnumber"
        untracked uint32 firstRun = 1
        untracked uint32 lastRun = 10
        uint32 interval = 1
    }

    include "CondCore/DBCommon/data/CondDBSetup.cfi"
    es_source = PoolDBESSource
    {
        using CondDBSetup
        string connect = "sqlite_file:l1config.db"
        string timetype = "runnumber"

        VPSet toGet =
        {
            { string record = "L1TriggerKeyListRcd"
              string tag = "L1TriggerKeyList_CRUZET_hlt" },
            { string record = "L1TriggerKeyRcd"
              string tag = "L1TriggerKey_CRUZET_hlt" }
        }
    }
    include "CondTools/L1Trigger/data/L1SubsystemParams.cfi"
    replace PoolDBESSource.toGet += L1SubsystemParams.recordInfo

    module get = EventSetupRecordDataGetter
    {
        VPSet toGet =
        { 
            { string record = "L1TriggerKeyListRcd"
              vstring data = { "L1TriggerKeyList" } },
            { string record = "L1TriggerKeyRcd"
              vstring data = { "L1TriggerKey" } }
        }
        untracked bool verbose = true
    }
    include "CondTools/L1Trigger/data/L1DBParams.cfi"
    replace get.toGet += L1DBParams.validItems

    module l1a = L1TAnalyzer {}

    path p = { get }
}
