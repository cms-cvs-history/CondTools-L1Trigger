process TEST = {
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    untracked PSet maxEvents = { untracked int32 input = 10 }

    source = EmptyIOVSource {
        string timetype = "runnumber"
        untracked uint32 firstRun = 1
        untracked uint32 lastRun = 10
        uint32 interval = 1
    }

    include "L1TriggerConfig/L1CSCTPConfigProducers/data/L1CSCTriggerPrimitivesConfig.cfi"
    es_source l1TriggerSource = L1TDBESSource {
        string connect = "sqlite_file:test.db"
        string catalog = "file:test.xml"

        # What tag to use to load main L1TriggerKey
        string tag = "current"

        # Here you should specify what data to put where. Similar as in
        # PoolDBESS ource. You can also put L1TriggerKeyRcd with value L1TriggerKey, but
        # system will load it even if you do not put it here.
        # In other words, putting key record here is just a waste of keystrokes, but you can do that
        VPSet toLoad = {
        {
            string record = "L1TriggerKeyRcd"
            vstring data = {"L1TriggerKey"}
        },
        {
            string record = "L1CSCTPParametersRcd"
            vstring data = {"L1CSCTPParameters"}
        } }
    }

#    es_source l1EmptySource = EmptyESSource {
#        string recordName = "L1TriggerKeyRcd"
#        vuint32 firstValid = { 1 }
#        bool iovIsRunNotTime = false
#    }

    module get = EventSetupRecordDataGetter {
        VPSet toGet = {
        {
            string record = "L1TriggerKeyRcd"
            vstring data = {"L1TriggerKey"}
        },
        {
            string record = "L1CSCTPParametersRcd"
            vstring data = {"L1CSCTPParameters"}
        }
    }

        untracked bool verbose = true
    }

    module get2 = L1TAnalyzer {
        string keyTag = ""
        string keyValue = ""
    }

    module out = AsciiOutputModule {
    }

    path p = { get, get2 }
    endpath ep = { out }
}
